<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.3 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Tips for Java performance on Android. - Andrew Walsh’s Website</title>
<meta name="description" content="While Java may be a higher level language that makes code writeability easier, conventions must be broken when developing on Android to reap performance gains. This is especially true for games where logic and rendering must be done on a tight loop.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Andrew Walsh's Website">
<meta property="og:title" content="Tips for Java performance on Android.">
<meta property="og:url" content="http://localhost:4000/tips-for-java-performance-on-android/">


  <meta property="og:description" content="While Java may be a higher level language that makes code writeability easier, conventions must be broken when developing on Android to reap performance gains. This is especially true for games where logic and rendering must be done on a tight loop.">







  <meta property="article:published_time" content="2011-12-16T11:32:00-08:00">





  

  


<link rel="canonical" href="http://localhost:4000/tips-for-java-performance-on-android/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Andrew Walsh",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Andrew Walsh's Website Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--posts wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Andrew Walsh's Website
          <span class="site-subtitle">Foobar baz</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="">Notes</a>
            </li><li class="masthead__menu-item">
              <a href="/">Posts</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <div class="archive">
    
      <h1 id="page-title" class="page__title">Tips for Java performance on Android.</h1>
    
    <p>While Java may be a higher level language that makes code writeability
easier, conventions must be broken when developing on Android to reap
performance gains. This is especially true for games where logic and
rendering must be done on a tight loop.</p>

<p>The Android developer page provides <a href="http://developer.android.com/guide/practices/design/performance.html">helpful
tips</a>
for optimizing your Java code. Below are the optimizations that I have
found to improve performance.</p>

<ol>
  <li>
    <p><strong>Front load memory allocation at startup instead of dynamically.</strong></p>

    <p>We saw the largest performance gain here. The
<a href="http://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">GC</a>
can kill performance in a CPU intensive application or game. If you
pool your instances in an array instead of dynamically allocating
it, you can save the GC calls from happening. This will result in a
slightly larger memory footprint if you tweak it right.</p>

    <p>Below is code that provides a fixed-size generic list
implementation; the internal array never grows/shrinks. The
<em>executePendingRemoves</em> routine is needed since object removal must
sometimes be put into a <a href="http://en.wikipedia.org/wiki/Critical_section">critical
region</a> with a
<a href="http://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html"><em>synchronized</em>
block</a>.
You may want to queue up removals but still make them available to
other threads up until the moment they are removed in bulk.</p>

    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">List</span><span class="p">&amp;</span><span class="n">ltT</span><span class="p">&gt;</span> <span class="p">{</span>

 <span class="k">private</span> <span class="kt">int</span> <span class="n">mCount</span><span class="p">;</span>
 <span class="k">private</span> <span class="n">T</span> <span class="n">mItems</span><span class="p">[];</span>
 <span class="k">private</span> <span class="kt">int</span> <span class="n">mRemoveCount</span><span class="p">;</span>
 <span class="k">private</span> <span class="kt">int</span><span class="p">[]</span> <span class="n">mRemoveIndices</span><span class="p">;</span> 
     
 <span class="nf">@SuppressWarnings</span><span class="p">(</span><span class="s">"unchecked"</span><span class="p">)</span>
 <span class="k">public</span> <span class="nf">List</span><span class="p">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">mItems</span> <span class="p">=</span> <span class="p">(</span><span class="n">T</span><span class="p">[])</span> <span class="k">new</span> <span class="n">Object</span><span class="p">[</span><span class="n">capacity</span><span class="p">];</span>
  <span class="n">mRemoveIndices</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">capacity</span><span class="p">];</span>
  <span class="n">mCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="k">add</span><span class="p">(</span><span class="n">T</span> <span class="n">item</span><span class="p">){</span>
  <span class="n">mItems</span><span class="p">[</span><span class="n">mCount</span><span class="p">]</span> <span class="p">=</span> <span class="n">item</span><span class="p">;</span>
  <span class="n">mCount</span><span class="p">++;</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="nf">clear</span><span class="p">(){</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">index</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">;</span> <span class="n">index</span><span class="p">++)</span>
  <span class="p">{</span>
   <span class="n">mItems</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">mCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="nf">executePendingRemoves</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">mRemoveCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
   <span class="n">mItems</span><span class="p">[</span><span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kt">int</span> <span class="n">newCount</span><span class="p">=</span><span class="m">0</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">mItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mItems</span><span class="p">[</span><span class="n">newCount</span><span class="p">]</span> <span class="p">=</span> <span class="n">mItems</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">newCount</span><span class="p">++;</span>
   <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">mCount</span> <span class="p">=</span> <span class="n">newCount</span><span class="p">;</span>
  <span class="n">mRemoveCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="n">T</span> <span class="k">get</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mItems</span><span class="p">[</span><span class="n">index</span><span class="p">];}</span>
 <span class="k">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mCount</span><span class="p">;}</span>
 <span class="k">public</span> <span class="kt">int</span> <span class="nf">getIndex</span><span class="p">(</span><span class="n">T</span> <span class="n">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">mItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">==</span> <span class="n">item</span><span class="p">)</span> <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="p">-</span><span class="m">1</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="kt">int</span> <span class="nf">getPendingRemoveCount</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mRemoveCount</span><span class="p">;</span> <span class="p">}</span>
 <span class="k">public</span> <span class="kt">int</span><span class="p">[]</span> <span class="nf">getPendingRemoves</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mRemoveIndices</span><span class="p">;</span> <span class="p">}</span>
 <span class="k">public</span> <span class="n">Object</span><span class="p">[]</span> <span class="nf">getItems</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="n">mItems</span><span class="p">;}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="nf">pendingRemoveAt</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span> <span class="n">mRemoveCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="p">==</span> <span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">return</span><span class="p">;</span>
   <span class="k">else</span> <span class="k">if</span>  <span class="p">(</span><span class="n">index</span> <span class="p">&lt;</span> <span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">swapIndex</span> <span class="p">=</span> <span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span>
    <span class="n">index</span> <span class="p">=</span> <span class="n">swapIndex</span><span class="p">;</span>
   <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">mRemoveIndices</span><span class="p">[</span><span class="n">mRemoveCount</span><span class="p">]</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span>
  <span class="n">mRemoveCount</span><span class="p">++;</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="nf">removeAt</span><span class="p">(</span><span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">index</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="m">1</span> <span class="p">&lt;</span> <span class="n">mItems</span><span class="p">.</span><span class="n">length</span> <span class="p">&amp;&amp;</span> <span class="n">i</span> <span class="p">+</span> <span class="m">1</span> <span class="p">&lt;</span> <span class="n">mCount</span><span class="p">)</span> <span class="p">{</span>
                 <span class="n">mItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">mItems</span><span class="p">[</span><span class="n">i</span> <span class="p">+</span> <span class="m">1</span><span class="p">];</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                 <span class="n">mItems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>  <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="n">mCount</span><span class="p">--;</span>
        <span class="p">}</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="n">T</span> <span class="nf">removeLast</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">mCount</span><span class="p">--;</span>
      
  <span class="n">final</span> <span class="n">T</span> <span class="n">item</span> <span class="p">=</span> <span class="n">mItems</span><span class="p">[</span><span class="n">mCount</span><span class="p">];</span>
  <span class="n">mItems</span><span class="p">[</span><span class="n">mCount</span><span class="p">]</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">item</span><span class="p">;</span>
 <span class="p">}</span>
     
<span class="p">}</span>
</code></pre></div>    </div>

    <p>Lastly is the pooling object that can be inherited by any
application level instance (eg. <em>FlyingWizardsPool extends
ObjectPool</em>). When you want to instantiate a flying wizard object,
just type in <em>FlyingWizard wizard = wizardPool.checkOut();</em>.</p>

    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">ObjectPool</span><span class="p">&amp;</span><span class="n">ltT</span><span class="p">&gt;</span> <span class="p">{</span>

 <span class="k">private</span> <span class="kt">int</span> <span class="n">mCapacity</span><span class="p">;</span>
 <span class="k">private</span> <span class="n">List</span><span class="p">&amp;</span><span class="n">ltT</span><span class="p">&gt;</span> <span class="n">mPool</span><span class="p">;</span>
     
 <span class="nf">@SuppressWarnings</span><span class="p">({</span> <span class="s">"unchecked"</span><span class="p">,</span> <span class="s">"rawtypes"</span> <span class="p">})</span>
 <span class="k">public</span> <span class="nf">ObjectPool</span><span class="p">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">mPool</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">List</span><span class="p">(</span><span class="n">capacity</span><span class="p">);</span>
  <span class="n">mCapacity</span> <span class="p">=</span> <span class="n">capacity</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nf">fill</span><span class="p">();</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">void</span> <span class="nf">checkIn</span><span class="p">(</span><span class="n">T</span> <span class="n">poolItem</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">mPool</span><span class="p">.</span><span class="k">add</span><span class="p">(</span><span class="n">poolItem</span><span class="p">);</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="n">T</span> <span class="nf">checkOut</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">mPool</span><span class="p">.</span><span class="nf">removeLast</span><span class="p">();</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="k">abstract</span> <span class="k">void</span> <span class="nf">fill</span><span class="p">();</span>
     
 <span class="k">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">mPool</span><span class="p">.</span><span class="nf">getCount</span><span class="p">();</span>
 <span class="p">}</span>
     
 <span class="k">public</span> <span class="kt">int</span> <span class="nf">getCapacity</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">mCapacity</span><span class="p">;</span>
 <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>    </div>

    <p>Below is an example implementation of the <em>ObjectPool</em> abstract
class. Note how the <em>fill</em> routine is implemented. Also, front
loading memory like this means that you will need an <em>initialize</em> on
your instances so that the class fields can be put back to a "just
instantiated" state. Normally we would use a constructor but to
keep the allocation static, an <em>initialize</em> call is necessary.</p>

    <div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">FlyingWizardPool</span> <span class="n">extends</span> <span class="n">ObjectPool</span> <span class="p">{</span>
 <span class="k">public</span> <span class="nf">FlyingWizardPool</span><span class="p">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">super</span><span class="p">(</span><span class="n">capacity</span><span class="p">);</span>
 <span class="p">}</span>

 <span class="k">public</span> <span class="n">FlyingWizard</span> <span class="nf">checkOut</span><span class="p">(</span><span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y</span><span class="p">,</span> <span class="kt">float</span> <span class="n">destinationX</span><span class="p">,</span> <span class="kt">float</span> <span class="n">destinationY</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">FlyingWizard</span> <span class="n">wizard</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">checkOut</span><span class="p">();</span>
  <span class="n">wizard</span><span class="p">.</span><span class="nf">initialize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>
  <span class="k">return</span> <span class="n">wizard</span><span class="p">;</span>
 <span class="p">}</span>
      
 <span class="n">@Override</span>
 <span class="k">public</span> <span class="k">void</span> <span class="nf">fill</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nf">getCapacity</span><span class="p">();</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nf">checkIn</span><span class="p">(</span><span class="k">new</span> <span class="nf">FlyingWizard</span><span class="p">());</span>
  <span class="p">}</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Choose larger block routines instead of calling out to helper
subroutines.</strong></p>

    <p>Since the Dalvik is a register based architecture, every time a
routine is called from another, the register values must be stored
to memory before the call and loaded back in after the routine has
returned. Avoiding helper routine inside commonly called routines
will reduce this load/store overhead.</p>
  </li>
  <li>
    <p><strong>Remove <a href="http://en.wikipedia.org/wiki/Mutator_method">accessors</a>
and allow direct access to class fields.</strong></p>

    <p>Accessors are usually good form and observe the
<a href="http://en.wikipedia.org/wiki/Abstract_data_type">ADT</a>. Although, to
avoid the overhead involved in a routine call and additional
allocation of memory for the copied out value, it is best to allow
direct access to the class field. This makes it more difficult to
protect the <a href="http://en.wikipedia.org/wiki/Precondition">conditions</a>
for the field but is a worthy sacrifice if it is called often.</p>
  </li>
  <li>
    <p><strong>Make routines static if they don't access class fields.</strong></p>

    <p>The Android team recommends using this for an approximate 15-20%
performance gain. This means less work for the Dalvik during
run-time optimization and the routine can be inlined for faster
execution.</p>
  </li>
  <li>
    <p><strong>Use constants instead of enums.</strong></p>

    <p>This is more of a negligible optimization; it was delisted from
Android's performance page. Instead of having an enum, you can keep
the enumeration as an integer constant.</p>
  </li>
</ol>

<p>It is important to follow the ADT for good code writeability/readability
and bug minimization. Use these optimizations only on code that really
needs it. This means it should apply to routines and fields that are
called frequently by your application.</p>


<ul class="taxonomy__index">
  
  
    <li>
      <a href="#2015">
        <strong>2015</strong> <span class="taxonomy__count">5</span>
      </a>
    </li>
  
    <li>
      <a href="#2014">
        <strong>2014</strong> <span class="taxonomy__count">2</span>
      </a>
    </li>
  
    <li>
      <a href="#2013">
        <strong>2013</strong> <span class="taxonomy__count">4</span>
      </a>
    </li>
  
    <li>
      <a href="#2012">
        <strong>2012</strong> <span class="taxonomy__count">8</span>
      </a>
    </li>
  
    <li>
      <a href="#2011">
        <strong>2011</strong> <span class="taxonomy__count">13</span>
      </a>
    </li>
  
</ul>



  <section id="2015" class="taxonomy__section">
    <h2 class="archive__subtitle">2015</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/streaming-uuencoder-in-net/" rel="permalink">Streaming UUEncoder in .NET.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Flashback
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/get-windows-service-name-from/" rel="permalink">Get Windows Service name from executable in PowerShell.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I was recently putting some PowerShell scripts together for deployment
and maintenance of software to our machine instances. One of the
requirements was to b...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/log-per-class-pattern/" rel="permalink">Log per class pattern.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Rookie Moves
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/creating-xml-based-templates-in-log4net/" rel="permalink">Creating XML based templates in log4net.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Motivation
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/using-type-converters-for-jsonnet/" rel="permalink">Using type converters for JSON.NET.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Motivation
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2014" class="taxonomy__section">
    <h2 class="archive__subtitle">2014</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/using-ccnet-gallio-for-priority-based/" rel="permalink">Using CC.NET &amp; Gallio for priority based smoke testing.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Pitfalls in Production
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/state-behavioral-pattern-to-rescue/" rel="permalink">State behavioral pattern to the rescue.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  12 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">The Creeping Problem
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2013" class="taxonomy__section">
    <h2 class="archive__subtitle">2013</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/understanding-type-theory-part-one/" rel="permalink">Understanding type theory (Part one: Lambda Calculus).
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  7 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Series Introduction
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pcap-ng-reader-for-net/" rel="permalink">PCAP-NG reader for .NET.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction &amp; Scope
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/automated-combinatorial-and-spot/" rel="permalink">Automated combinatorial and spot testing of web service operations.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction &amp; Scope
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/text-generation-using-markov-chains/" rel="permalink">Text generation using Markov chains.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2012" class="taxonomy__section">
    <h2 class="archive__subtitle">2012</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/reading-and-writing-large-binary-data/" rel="permalink">Reading and writing large binary data in T-SQL and ADO.NET.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/understanding-compression-and-huffman/" rel="permalink">Understanding compression and Huffman Coding.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  5 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Definitions
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/imapi-version-2-managed-wrapper/" rel="permalink">IMAPI version 2 managed wrapper.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/implementing-bit-readerwriter-in-c/" rel="permalink">Implementing a bit reader/writer in C.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Introduction
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/licensing-using-xml-digital-signing/" rel="permalink">Licensing using XML digital signing.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  6 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Motivation
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/automate-iis-enable-on-windows-7/" rel="permalink">Automate IIS enable on Windows 7.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Background
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/converting-thermocouple-voltages-to/" rel="permalink">Converting thermocouple voltages to temperature.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Background
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/bit-specific-builds-in-visual-studio/" rel="permalink">Bit specific builds in Visual Studio 2010.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Using Conditioned Tags
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2011" class="taxonomy__section">
    <h2 class="archive__subtitle">2011</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/wpf-and-data-multithreading-deadlocks/" rel="permalink">WPF and data multithreading deadlocks.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">WPF &amp; Multithreading
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/tips-for-java-performance-on-android/" rel="permalink">Tips for Java performance on Android.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">While Java may be a higher level language that makes code writeability
easier, conventions must be broken when developing on Android to reap
performance gain...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/poco-not-transforming-into-poco-proxy/" rel="permalink">POCO not transforming into a POCO proxy.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">A POCO (Plain Old CLR Object) must be transformed into a POCO proxy
[MyNamespace.MyClass
-&gt;{System.Data.Entity.DynamicProxies.MyClass_0A943C2FC37D33304CEB...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/detecting-cycles-in-decimal-digits-and/" rel="permalink">Detecting cycles in decimal digits and lists.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I was recently working on solving problem 64 for project
Euler and one of the needed
algorithms was a detection of cycles in a list. This routine works for
d...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/entity-framework-june-2011-ctp-bug/" rel="permalink">Entity Framework June 2011 CTP Bug
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I recently installed the Entity Framework June 2011 CTP to preview the
enum support but ran into a bug along the way that reported an error
while processing ...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/ef-41-code-first-many-one-to-one/" rel="permalink">EF 4.1 Code First: Many one-to-one properties for same class type on an object.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I just started using the Entity Framework recently to employ persistence
for an already established code base. Initially I was using the "Model
&amp; Databas...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/pseudo-random-proportional-scheduling/" rel="permalink">Pseudo random proportional scheduling in games.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I have been working on a game where enemy characters must select a
target seemingly at random but such that the distribution of selected
targets is balanced....</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/writing-teds-ieee-14514-parser/" rel="permalink">Writing a TEDS (IEEE 1451.4) parser.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I was tasked recently with writing a parser for TEDS bit stream data.
There is an IEEE published
paper with an
overview of the standard but it doesn't give a...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/reentrant-lock-acquires-in-clr/" rel="permalink">Reentrant lock acquires in CLR.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I always like when a post gets to the point (especially after searching
in Google). In short, if you perform an operation that waits to
acquire a lock, the t...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/namespace-within-classes/" rel="permalink">Namespaces for classes.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">When designing classes for outside use (eg. API) or as a library
component for multiple applications, readability and easy element
(field/function) selection...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/delete-long-file-path-names/" rel="permalink">Delete long file path names.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I made the stupid mistake of importing an Eclipse project into my
workspace when the import location was from the workspace
itself. I went to
delete the recu...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/representing-scientific-units-in-code/" rel="permalink">Representing scientific units in code.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I have been working on implementing a stream reader for IEEE 1451.4
TEDS and came
across this interesting
paper regarding
representation of scientific units ...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/using-ubuntu-1004-with-svnhttp/" rel="permalink">Using Ubuntu 10.04 with SVN+HTTP.
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  less than 1 minute read

</p>
    
    <p class="archive__item-excerpt" itemprop="description">I setup a server recently using Ubuntu 10.04. LAMP was easy to
configure, as was Subversion. Although making Subversion and Apache2
play nice together with D...</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>


  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="mailto:awalsh128@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://github.com/awalsh128" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/andrew-walsh-a235787/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Andrew Walsh. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/tips-for-java-performance-on-android/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/tips-for-java-performance-on-android"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://andrew-walshs-website.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
