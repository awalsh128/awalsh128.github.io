<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Licensing using XML digital signing. - Andrew Walshâ€™s Website</title>
<meta name="description" content="Motivation">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Andrew Walsh's Website">
<meta property="og:title" content="Licensing using XML digital signing.">
<meta property="og:url" content="http://localhost:4000/licensing-using-xml-digital-signing/">


  <meta property="og:description" content="Motivation">







  <meta property="article:published_time" content="2012-08-14T09:00:00-07:00">





  

  


<link rel="canonical" href="http://localhost:4000/licensing-using-xml-digital-signing/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Andrew Walsh",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Andrew Walsh's Website Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--posts wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Andrew Walsh's Website
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/reading/">Reading</a>
            </li><li class="masthead__menu-item">
              <a href="/notes">Notes</a>
            </li><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url"></a>
    </h3>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>
  
  </div>



  <div class="archive">
    
      <h1 id="page-title" class="page__title">Licensing using XML digital signing.</h1>
    
    <h3 id="motivation">Motivation</h3>

<p>One of the main concerns in any licensing implementation is that
authored license files are coming from the trusted authority (ie. your
company) and not some third party. This can be accomplished in software
by encrypting and decrypting the license with a <a href="http://en.wikipedia.org/wiki/Symmetric-key_algorithm">single
key</a>, but
symmetric <a href="http://en.wikipedia.org/wiki/Key_management">key storage</a> can
be cumbersome and have added complexity.</p>

<p><a href="http://en.wikipedia.org/wiki/Public-key_cryptography">Assymetric
cryptography</a>, on
the other hand, allows for two keys: a private one to author files with
and a public one to verify its authenticity. This is well suited for
licensing, where we want to ensure that the authored license has not
been altered in anyway and the content can be relied on.</p>

<h3 id="implementation">Implementation</h3>

<p>I ran across <a href="http://www.codeproject.com/Articles/4940/Using-XML-Digital-Signatures-for-Application-Licen%20">a great
article</a>
that details the use of XML digital signatures in the .NET framework. It
describes the type of digital signatures that can be implemented and
lays out the classes and methods needed to author and verify license
files.</p>

<p>This specific implementation allows for an: authentication key to
compare against some unique value tying the license to the system,
expiration date to set a time span on the software use and set of
available features the user is authorized for.</p>

<h2 id="base-class">Base Class</h2>

<p>This forms the runtime object representation of the license and will be
inherited by the license reader and writer.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.ObjectModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography.Xml</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Xml</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Licensing</span>
<span class="p">{</span>

<span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">LicenseBase</span>
<span class="p">{</span> 
 <span class="k">private</span> <span class="kt">byte</span><span class="p">[]</span> <span class="n">_authenticationKey</span><span class="p">;</span> 
 <span class="k">private</span> <span class="n">DateTime</span> <span class="n">_expiration</span><span class="p">;</span> 
 <span class="k">private</span> <span class="n">List</span> <span class="n">_features</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">_id</span><span class="p">;</span>

 <span class="k">public</span> <span class="kt">byte</span><span class="p">[]</span> <span class="n">AuthenticationKey</span> <span class="p">{</span>
  <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_authenticationKey</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">protected</span> <span class="k">set</span> <span class="p">{</span> <span class="n">_authenticationKey</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="p">}</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="n">DateTime</span> <span class="n">Expiration</span> <span class="p">{</span>
  <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_expiration</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">protected</span> <span class="k">set</span> <span class="p">{</span> <span class="n">_expiration</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="p">}</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span>
  <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_id</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">protected</span> <span class="k">set</span> <span class="p">{</span> <span class="n">_id</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span> <span class="p">}</span>
 <span class="p">}</span>
 <span class="k">protected</span> <span class="n">List</span> <span class="n">Features</span> <span class="p">{</span>
        <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_features</span><span class="p">;</span> <span class="p">}</span>
 <span class="p">}</span> 

 <span class="k">public</span> <span class="nf">LicenseBase</span><span class="p">()</span>
 <span class="p">{</span>
  <span class="n">_features</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">List</span><span class="p">();</span>
 <span class="p">}</span>

    <span class="k">public</span> <span class="k">void</span> <span class="nf">Clear</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">_id</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="n">_authenticationKey</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
        <span class="n">_features</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="p">}</span>
</code></pre></div></div>

<h2 id="writer-class">Writer Class</h2>

<p>This class will be used internally to author the license files that will
be distributed with the released software. Note that the private key is
added as an embedded resource in the project and should not be
distributed since the public key can be derived from it.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.IO</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography.Xml</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Xml</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Licensing</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">License</span> <span class="p">:</span> <span class="n">LicenseBase</span>
    <span class="p">{</span>

        <span class="nf">License</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="kt">byte</span><span class="p">[]</span> <span class="n">authenticationKey</span><span class="p">,</span> <span class="n">DateTime</span> <span class="n">expiration</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">features</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span> <span class="p">=</span> <span class="n">authenticationKey</span><span class="p">;</span>            
            <span class="k">this</span><span class="p">.</span><span class="n">Expiration</span> <span class="p">=</span> <span class="n">expiration</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Id</span> <span class="p">=</span> <span class="n">id</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Features</span><span class="p">.</span><span class="nf">AddRange</span><span class="p">(</span><span class="n">features</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Generates a key pair for digital signing and verification.</span>
        <span class="c1">/// </span>
        <span class="c1">/// </span>
        <span class="c1">/// </span>
        <span class="k">static</span> <span class="k">internal</span> <span class="k">void</span> <span class="nf">GenerateAssymetricKeys</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">datestamp</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="n">StreamWriter</span> <span class="n">output</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="n">RSA</span> <span class="n">key</span> <span class="p">=</span> <span class="n">RSA</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
            <span class="n">key</span><span class="p">.</span><span class="n">KeySize</span> <span class="p">=</span> <span class="m">1024</span><span class="p">;</span>

            <span class="n">datestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyyMMdd"</span><span class="p">);</span>

            <span class="c1">// Generate private key to only be used internally (DO NOT DISTRIBUTE).</span>
            <span class="n">output</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">CreateText</span><span class="p">(</span><span class="s">"private-"</span> <span class="p">+</span> <span class="n">datestamp</span> <span class="p">+</span> <span class="s">".key"</span><span class="p">);</span>
            <span class="n">output</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="nf">ToXmlString</span><span class="p">(</span><span class="k">true</span><span class="p">));</span>
            <span class="n">output</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>

            <span class="c1">// Generate public key to be used by customers (distribute).</span>
            <span class="n">output</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">CreateText</span><span class="p">(</span><span class="s">"public-"</span> <span class="p">+</span> <span class="n">datestamp</span> <span class="p">+</span> <span class="s">".key"</span><span class="p">);</span>
            <span class="n">output</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">key</span><span class="p">.</span><span class="nf">ToXmlString</span><span class="p">(</span><span class="k">false</span><span class="p">));</span>
            <span class="n">output</span><span class="p">.</span><span class="nf">Close</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Digitally sign an XML document.</span>
        <span class="c1">/// </span>
        <span class="c1">/// The XML document to sign.</span>
        <span class="c1">/// The private key to sign it with.    </span>
        <span class="c1">/// </span>
        <span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">_SignXmlDocument</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Xml</span><span class="p">.</span><span class="n">XmlDocument</span> <span class="n">document</span><span class="p">,</span> <span class="n">RSA</span> <span class="n">privateKey</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">SignedXml</span> <span class="n">signedDocument</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SignedXml</span><span class="p">(</span><span class="n">document</span><span class="p">);</span>
            <span class="n">signedDocument</span><span class="p">.</span><span class="n">SigningKey</span> <span class="p">=</span> <span class="n">privateKey</span><span class="p">;</span>
            <span class="n">signedDocument</span><span class="p">.</span><span class="n">SignedInfo</span><span class="p">.</span><span class="n">CanonicalizationMethod</span> <span class="p">=</span> <span class="n">SignedXml</span><span class="p">.</span><span class="n">XmlDsigCanonicalizationUrl</span><span class="p">;</span>

            <span class="c1">// Add reference to XML data</span>
            <span class="n">Reference</span> <span class="n">@ref</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Reference</span><span class="p">(</span><span class="s">""</span><span class="p">);</span>
            <span class="n">@ref</span><span class="p">.</span><span class="nf">AddTransform</span><span class="p">(</span><span class="k">new</span> <span class="nf">XmlDsigEnvelopedSignatureTransform</span><span class="p">(</span><span class="k">false</span><span class="p">));</span>
            <span class="n">signedDocument</span><span class="p">.</span><span class="nf">AddReference</span><span class="p">(</span><span class="n">@ref</span><span class="p">);</span>

            <span class="c1">// Build the signature.</span>
            <span class="n">signedDocument</span><span class="p">.</span><span class="nf">ComputeSignature</span><span class="p">();</span>

            <span class="c1">// Attach the signature to the XML document.</span>
            <span class="n">XmlElement</span> <span class="n">signature</span> <span class="p">=</span> <span class="n">signedDocument</span><span class="p">.</span><span class="nf">GetXml</span><span class="p">();</span>
            <span class="n">document</span><span class="p">.</span><span class="n">DocumentElement</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">signature</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Write the contents and digitally sign the document.</span>
        <span class="c1">/// </span>
        <span class="c1">/// The file path to the digitally signed document.</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">WriteDocument</span><span class="p">(</span><span class="kt">string</span> <span class="n">filepath</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">XmlDocument</span> <span class="n">document</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
            <span class="n">document</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="nf">CreateXmlDeclaration</span><span class="p">(</span><span class="s">"1.0"</span><span class="p">,</span> <span class="s">"UTF-8"</span><span class="p">,</span> <span class="k">null</span><span class="p">));</span>

            <span class="n">XmlElement</span> <span class="n">root</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"License"</span><span class="p">);</span>
            <span class="n">document</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">root</span><span class="p">);</span>

            <span class="n">XmlElement</span> <span class="n">id</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"Id"</span><span class="p">);</span>
            <span class="n">id</span><span class="p">.</span><span class="n">InnerText</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">root</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">id</span><span class="p">);</span>

            <span class="n">XmlElement</span> <span class="n">authenticationKey</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"AuthenticationKey"</span><span class="p">);</span>            
            <span class="n">authenticationKey</span><span class="p">.</span><span class="n">InnerText</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span><span class="p">);</span>
            <span class="n">root</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">authenticationKey</span><span class="p">);</span>

            <span class="n">XmlElement</span> <span class="n">expiration</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"Expiration"</span><span class="p">);</span>
            <span class="n">expiration</span><span class="p">.</span><span class="n">InnerText</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Expiration</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">root</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">expiration</span><span class="p">);</span>

            <span class="n">XmlElement</span> <span class="n">options</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"Features"</span><span class="p">);</span>
            <span class="n">XmlElement</span> <span class="n">featureItem</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">string</span> <span class="n">feature</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="n">Features</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">featureItem</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"Feature"</span><span class="p">);</span>
                <span class="n">featureItem</span><span class="p">.</span><span class="n">InnerText</span> <span class="p">=</span> <span class="n">feature</span><span class="p">;</span>
                <span class="n">options</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">featureItem</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">root</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">options</span><span class="p">);</span>

            <span class="n">XmlElement</span> <span class="n">publickey</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">CreateElement</span><span class="p">(</span><span class="s">"Certificate"</span><span class="p">);</span>
            <span class="n">publickey</span><span class="p">.</span><span class="nf">SetAttribute</span><span class="p">(</span><span class="s">"DateCode"</span><span class="p">,</span> <span class="n">KeyCreationDateCode</span><span class="p">);</span>
            <span class="n">publickey</span><span class="p">.</span><span class="n">InnerXml</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllText</span><span class="p">(</span><span class="n">PublicKeyFilename</span><span class="p">);</span>
            <span class="n">root</span><span class="p">.</span><span class="nf">AppendChild</span><span class="p">(</span><span class="n">publickey</span><span class="p">);</span>

            <span class="n">RSA</span> <span class="n">privateKey</span> <span class="p">=</span> <span class="n">RSA</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
            <span class="n">privateKey</span><span class="p">.</span><span class="nf">FromXmlString</span><span class="p">(</span><span class="n">Licensing</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="n">privatekey</span><span class="p">);</span>
            <span class="nf">_SignXmlDocument</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">privateKey</span><span class="p">);</span>

            <span class="n">File</span><span class="p">.</span><span class="nf">WriteAllText</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">document</span><span class="p">.</span><span class="n">InnerXml</span><span class="p">);</span>            
        <span class="p">}</span>

    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="reader-class">Reader Class</h2>

<p>This class will be used in the field to verify the license files that
will be distributed with the released software. It is best to wrap the
license read and authenticate methods in try-catch blocks since they
represent exceptional behavior that fall outside the post-conditions of
the method. Handling the exceptions will allow for better error
reporting in the field so you can decide what information you will share
with the end user (eg. bad authentication key, malformed/tampered
licenses). Note again that the public key is an embedded resource for
the project. It should never be distributed with the license since an
attacker could generate their own keypair and envelope their own public
key, with signature, in the license.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.ObjectModel</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Security.Cryptography.Xml</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Xml</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Licensing</span>
<span class="p">{</span>
    <span class="k">class</span> <span class="nc">LicenseReader</span> <span class="p">:</span> <span class="n">LicenseBase</span>
    <span class="p">{</span>
        <span class="nf">LicenseReader</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">Authenticate</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Check the hardware key value against the AuthenticationKey        </span>
            <span class="k">if</span> <span class="p">(!</span><span class="nf">_AuthenticationKeyMatches</span><span class="p">(</span><span class="n">hardwareKey</span><span class="p">))</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">LicenseAuthenticationException</span><span class="p">(</span><span class="s">"The license failed to authenticate the hardware key."</span><span class="p">);</span>

            <span class="c1">// ... or check some node locking ID (eg. MAC ID, hard drive serial number) against the AuthenticationKey.</span>
            <span class="k">if</span> <span class="p">(!</span><span class="nf">_AuthenticationKeyMatches</span><span class="p">(</span><span class="n">nodeLockedId</span><span class="p">))</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">LicenseAuthenticationException</span><span class="p">(</span><span class="s">"The license failed to authenticate the node locked ID."</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">Expiration</span> <span class="p">&gt;</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">)</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">LicenseAuthenticationException</span><span class="p">(</span><span class="s">"The license has expired."</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Compare byte array against authentication key byte array.</span>
        <span class="c1">/// </span>
        <span class="c1">/// Byte array to compare against.</span>
        <span class="c1">/// True if a match, else false.</span>
        <span class="k">private</span> <span class="kt">bool</span> <span class="nf">_AuthenticationKeyMatches</span><span class="p">(</span><span class="kt">byte</span><span class="p">[]</span> <span class="n">compare</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>

            <span class="kt">int</span> <span class="n">upperBound</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nf">Min</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span><span class="p">.</span><span class="n">Length</span><span class="p">,</span> <span class="n">compare</span><span class="p">.</span><span class="n">Length</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">upperBound</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">!=</span> <span class="n">compare</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                    <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="kt">bool</span> <span class="nf">IsFeature</span><span class="p">(</span><span class="kt">string</span> <span class="n">featureName</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="n">Features</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">featureName</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Read the digitally signed document and load its contents.</span>
        <span class="c1">/// </span>
        <span class="c1">/// The file path to the digitally signed document.</span>
        <span class="k">protected</span> <span class="k">virtual</span> <span class="k">void</span> <span class="nf">ReadDocument</span><span class="p">(</span><span class="kt">string</span> <span class="n">filepath</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nf">Clear</span><span class="p">();</span>

            <span class="n">XmlDocument</span> <span class="n">document</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
            <span class="n">document</span><span class="p">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">filepath</span><span class="p">);</span>

            <span class="n">RSA</span> <span class="n">publicKey</span> <span class="p">=</span> <span class="n">RSA</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
            <span class="n">publicKey</span><span class="p">.</span><span class="nf">FromXmlString</span><span class="p">(</span><span class="n">Licensing</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="n">publickey</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nf">_VerifyXmlDocument</span><span class="p">(</span><span class="n">document</span><span class="p">,</span> <span class="n">publicKey</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="n">Id</span> <span class="p">=</span> <span class="kt">int</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="nf">SelectSingleNode</span><span class="p">(</span><span class="s">"//License/Id"</span><span class="p">).</span><span class="n">InnerText</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="n">AuthenticationKey</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">FromBase64String</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="nf">SelectSingleNode</span><span class="p">(</span><span class="s">"//License/AuthenticationKey"</span><span class="p">).</span><span class="n">InnerText</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="n">Expiration</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">document</span><span class="p">.</span><span class="nf">SelectSingleNode</span><span class="p">(</span><span class="s">"//License/Expiration"</span><span class="p">).</span><span class="n">InnerText</span><span class="p">);</span>

                <span class="n">XmlNodeList</span> <span class="n">features</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"//License/Features/Feature"</span><span class="p">);</span>
                <span class="k">foreach</span> <span class="p">(</span><span class="n">XmlNode</span> <span class="n">feature</span> <span class="k">in</span> <span class="n">features</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="n">Features</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">feature</span><span class="p">.</span><span class="n">InnerText</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="p">}</span>

        <span class="c1">/// </span>
        <span class="c1">/// Verify the digital signature of an XML document.</span>
        <span class="c1">/// </span>
        <span class="c1">/// The XML document containing the signature.</span>
        <span class="c1">/// The public key to verify signature authenticity.</span>
        <span class="c1">/// True if the signature is authentic, else false.</span>
        <span class="c1">/// </span>
        <span class="k">private</span> <span class="kt">bool</span> <span class="nf">_VerifyXmlDocument</span><span class="p">(</span><span class="n">XmlDocument</span> <span class="n">document</span><span class="p">,</span> <span class="n">RSA</span> <span class="n">publicKey</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">SignedXml</span> <span class="n">signedDocument</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SignedXml</span><span class="p">(</span><span class="n">document</span><span class="p">);</span>
            <span class="k">try</span>
            <span class="p">{</span>
                <span class="n">XmlNode</span> <span class="n">signature</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="nf">GetElementsByTagName</span><span class="p">(</span><span class="s">"Signature"</span><span class="p">,</span> <span class="n">SignedXml</span><span class="p">.</span><span class="n">XmlDsigNamespaceUrl</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
                <span class="n">signedDocument</span><span class="p">.</span><span class="nf">LoadXml</span><span class="p">((</span><span class="n">XmlElement</span><span class="p">)(</span><span class="n">signature</span><span class="p">));</span>
            <span class="p">}</span>
            <span class="k">catch</span>
            <span class="p">{</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">signedDocument</span><span class="p">.</span><span class="nf">CheckSignature</span><span class="p">(</span><span class="n">publicKey</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="additions--caveats">Additions &amp; Caveats</h3>

<p>Symmetric encryption could also be used to hinder casual viewing of the
license file. The issue of symmetric key storage must be revisited but
will no longer be critical to maintaining the integrity of the license
files.</p>

<p>Strong naming of the license reading assembly is encouraged to prevent
dissasembly and re-embedding of an attacker's own public key. Although,
this is by no means an attack-proof method since <a href="http://www.codeproject.com/Articles/15374/Removing-Strong-Signing-from-assemblies-at-file-le">strong naming can be
removed</a>
by changing information in the <a href="http://www.ntcore.com/Files/dotnetformat.htm">CLI
header</a> of the portable
executable (PE). Even if the application was able to secure the public
key outside the application in a
<a href="http://en.wikipedia.org/wiki/Public_key_infrastructure">PKI</a>, there is
still the issue of code injection or recompilation once strong naming is
stripped. Indirection of the public key or obfuscation of the assembly
can also help but is <a href="http://csrc.nist.gov/publications/secpubs/faq-sec.txt">not a reliable security
measure</a>.</p>


<ul class="taxonomy__index">
  
  
    <li>
      <a href="#2021">
        <strong>2021</strong> <span class="taxonomy__count">9</span>
      </a>
    </li>
  
    <li>
      <a href="#2020">
        <strong>2020</strong> <span class="taxonomy__count">1</span>
      </a>
    </li>
  
    <li>
      <a href="#2015">
        <strong>2015</strong> <span class="taxonomy__count">5</span>
      </a>
    </li>
  
    <li>
      <a href="#2014">
        <strong>2014</strong> <span class="taxonomy__count">2</span>
      </a>
    </li>
  
    <li>
      <a href="#2013">
        <strong>2013</strong> <span class="taxonomy__count">4</span>
      </a>
    </li>
  
    <li>
      <a href="#2012">
        <strong>2012</strong> <span class="taxonomy__count">8</span>
      </a>
    </li>
  
    <li>
      <a href="#2011">
        <strong>2011</strong> <span class="taxonomy__count">13</span>
      </a>
    </li>
  
</ul>




  <section id="2021" class="taxonomy__section">
    <h2 class="archive__subtitle">2021</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/create-github-action-automated-testing/" rel="permalink">Code Analysis for GitHub Projects
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Integrate your GitHub projects with a code analysis tool.
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/integrating-lgtm/" rel="permalink">Code Analysis for GitHub Projects
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Integrate your GitHub projects with a code analysis tool.
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/fluentcpp-v01-release/" rel="permalink">Fluent C++ v0.1 Release
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Fluent style querying for C++.
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cmake-simple-library/" rel="permalink">CMake Simple Library Example
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">An example of a simple library using CMake.
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/github-actions-cache-apt-pkgs-v1-released/" rel="permalink">GitHub Actions - Cache APT Packages v1 Released
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">A GitHub action to cache APT packages for future workflow runs..
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/terminalizer/" rel="permalink">Terminalizer
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">https://github.com/faressoft/terminalizer
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/doxygen-by-example/" rel="permalink">Doxygen By Example
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">
</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/boilerplate-everything/" rel="permalink">Boilerplate Everything
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">https://raw.githubusercontent.com/bsamseth/cpp-project/master/README.md

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/validate-and-throw-with-multi-type-message/" rel="permalink">C++ validate and throw with a dynamic message in a single line.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Assert a condition and throw with a dynamic message in a single line in C++.
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2020" class="taxonomy__section">
    <h2 class="archive__subtitle">2020</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/cpp-memory-semantic-for-csharp-java-devs/" rel="permalink">C++ Memory Semantics for C# and Java Devs
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          16 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Understanding how memory semantics works in C++ from the perspective of a C# or Java dev.
</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2015" class="taxonomy__section">
    <h2 class="archive__subtitle">2015</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/streaming-uuencoder-in-net/" rel="permalink">Streaming UUEncoder in .NET.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Flashback

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/get-windows-service-name-from/" rel="permalink">Get Windows Service name from executable in PowerShell.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I was recently putting some PowerShell scripts together for deployment
and maintenance of software to our machine instances. One of the
requirements was to b...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/log-per-class-pattern/" rel="permalink">Log per class pattern.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Rookie Moves

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/creating-xml-based-templates-in-log4net/" rel="permalink">Creating XML based templates in log4net.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Motivation

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/using-type-converters-for-jsonnet/" rel="permalink">Using type converters for JSON.NET.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Motivation

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2014" class="taxonomy__section">
    <h2 class="archive__subtitle">2014</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/using-ccnet-gallio-for-priority-based/" rel="permalink">Using CC.NET &amp; Gallio for priority based smoke testing.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Pitfalls in Production

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/state-behavioral-pattern-to-rescue/" rel="permalink">State behavioral pattern to the rescue.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          12 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The Creeping Problem

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2013" class="taxonomy__section">
    <h2 class="archive__subtitle">2013</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/understanding-type-theory-part-one/" rel="permalink">Understanding type theory (Part one: Lambda Calculus).
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Series Introduction

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/pcap-ng-reader-for-net/" rel="permalink">PCAP-NG reader for .NET.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction &amp; Scope

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/automated-combinatorial-and-spot/" rel="permalink">Automated combinatorial and spot testing of web service operations.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction &amp; Scope

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/text-generation-using-markov-chains/" rel="permalink">Text generation using Markov chains.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2012" class="taxonomy__section">
    <h2 class="archive__subtitle">2012</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/reading-and-writing-large-binary-data/" rel="permalink">Reading and writing large binary data in T-SQL and ADO.NET.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/understanding-compression-and-huffman/" rel="permalink">Understanding compression and Huffman Coding.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Definitions

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/imapi-version-2-managed-wrapper/" rel="permalink">IMAPI version 2 managed wrapper.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/implementing-bit-readerwriter-in-c/" rel="permalink">Implementing a bit reader/writer in C.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Introduction

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/licensing-using-xml-digital-signing/" rel="permalink">Licensing using XML digital signing.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Motivation

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/automate-iis-enable-on-windows-7/" rel="permalink">Automate IIS enable on Windows 7.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Background

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/converting-thermocouple-voltages-to/" rel="permalink">Converting thermocouple voltages to temperature.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Background

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/bit-specific-builds-in-visual-studio/" rel="permalink">Bit specific builds in Visual Studio 2010.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Using Conditioned Tags

</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>

  <section id="2011" class="taxonomy__section">
    <h2 class="archive__subtitle">2011</h2>
    <div class="entries-list">
      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/wpf-and-data-multithreading-deadlocks/" rel="permalink">WPF and data multithreading deadlocks.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">WPF &amp; Multithreading

</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/tips-for-java-performance-on-android/" rel="permalink">Tips for Java performance on Android.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">While Java may be a higher level language that makes code writeability
easier, conventions must be broken when developing on Android to reap
performance gain...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/poco-not-transforming-into-poco-proxy/" rel="permalink">POCO not transforming into a POCO proxy.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">A POCO (Plain Old CLR Object) must be transformed into a POCO proxy
[MyNamespace.MyClass
-&gt;{System.Data.Entity.DynamicProxies.MyClass_0A943C2FC37D33304CEB...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/detecting-cycles-in-decimal-digits-and/" rel="permalink">Detecting cycles in decimal digits and lists.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I was recently working on solving problem 64 for project
EulerÂ and one of the needed
algorithms was a detection of cycles in a list. This routine works for
d...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/entity-framework-june-2011-ctp-bug/" rel="permalink">Entity Framework June 2011 CTP Bug
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I recently installed the Entity Framework June 2011 CTP to preview the
enum support but ran into a bug along the way that reported an error
while processing ...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ef-41-code-first-many-one-to-one/" rel="permalink">EF 4.1 Code First: Many one-to-one properties for same class type on an object.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I just started using the Entity Framework recently to employ persistence
for an already established code base. Initially I was using the "Model
&amp; Databas...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/pseudo-random-proportional-scheduling/" rel="permalink">Pseudo random proportional scheduling in games.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I have been working on a game where enemy characters must select a
target seemingly at random but such that the distribution of selected
targets is balanced....</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/writing-teds-ieee-14514-parser/" rel="permalink">Writing a TEDS (IEEE 1451.4) parser.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I was tasked recently with writing a parser for TEDS bit stream data.
There is an IEEE published
paper with an
overview of the standard but it doesn't give a...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/reentrant-lock-acquires-in-clr/" rel="permalink">Reentrant lock acquires in CLR.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I always like when a post gets to the point (especially after searching
in Google). In short, if you perform an operation that waits to
acquire a lock, the t...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/namespace-within-classes/" rel="permalink">Namespaces for classes.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">When designing classes for outside use (eg. API) or as a library
component for multiple applications, readability and easy element
(field/function) selection...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/delete-long-file-path-names/" rel="permalink">Delete long file path names.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I made the stupid mistake of importing an Eclipse project into my
workspace when theÂ import location was from the workspace
itself. I went to
delete the recu...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/representing-scientific-units-in-code/" rel="permalink">Representing scientific units in code.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I have been working on implementing a stream reader for IEEE 1451.4
TEDS and came
across this interesting
paper regarding
representation of scientific units ...</p>
  </article>
</div>

      
        



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/using-ubuntu-1004-with-svnhttp/" rel="permalink">Using Ubuntu 10.04 with SVN+HTTP.
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">I setup a server recently using Ubuntu 10.04. LAMP was easy to
configure, as was Subversion. Although making Subversion and Apache2
play nice together with D...</p>
  </article>
</div>

      
    </div>
    <a href="#page-title" class="back-to-top">Back to top &uarr;</a>
  </section>


  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
          <li><a href="mailto:awalsh128@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://github.com/awalsh128" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/andrew-walsh-a235787/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Andrew Walsh. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/licensing-using-xml-digital-signing/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/licensing-using-xml-digital-signing"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://andrew-walshs-website.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
